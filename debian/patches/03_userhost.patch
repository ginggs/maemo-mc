diff -ur mc-4.6.2-pre1.orig/edit/editwidget.c mc-4.6.2-pre1/edit/editwidget.c
--- mc-4.6.2-pre1.orig/edit/editwidget.c	2008-07-06 19:26:20.000000000 +0400
+++ mc-4.6.2-pre1/edit/editwidget.c	2008-07-06 19:26:29.000000000 +0400
@@ -44,6 +44,9 @@
 #include "../src/widget.h"	/* buttonbar_redraw() */
 #include "../src/menu.h"	/* menubar_new() */
 #include "../src/key.h"		/* is_idle() */
+#include "../src/main.h"	/* xterm_title_str */
+#include "../src/win.h"		/* xterm_flag */
+#include "../src/layout.h"	/* xterm_title */
 
 WEdit *wedit;
 struct WMenu *edit_menubar;
@@ -171,6 +174,11 @@
     static int made_directory = 0;
     Dlg_head *edit_dlg;
     WButtonBar *edit_bar;
+    
+    if (xterm_flag && xterm_title && xterm_title_str) {
+	fprintf (stdout, "\33]0;mc - %s/%s\7", xterm_title_str, _file);
+	fflush(stdout);
+    }
 
     if (!made_directory) {
 	char *dir = concat_dir_and_file (home_dir, EDIT_DIR);
@@ -206,6 +214,8 @@
     edit_done_menu (edit_menubar);		/* editmenu.c */
 
     destroy_dlg (edit_dlg);
+    
+    update_xterm_title_path();
 
     return 1;
 }
diff -ur mc-4.6.2-pre1.orig/src/main.c mc-4.6.2-pre1/src/main.c
--- mc-4.6.2-pre1.orig/src/main.c	2008-07-06 19:26:20.000000000 +0400
+++ mc-4.6.2-pre1/src/main.c	2008-07-06 19:26:29.000000000 +0400
@@ -28,6 +28,7 @@
 #include <stdio.h>
 #include <stdlib.h>
 #include <string.h>
+#include <pwd.h>
 
 #include <sys/types.h>
 #include <sys/stat.h>
@@ -275,6 +276,9 @@
 /* The user's shell */
 const char *shell = NULL;
 
+/* The xterm title */
+char *xterm_title_str = NULL;
+
 /* mc_home: The home of MC */
 char *mc_home = NULL;
 
@@ -1606,9 +1610,23 @@
 update_xterm_title_path (void)
 {
     char *p, *s;
+    char h[64];
+    struct passwd *pw;
 
     if (xterm_flag && xterm_title) {
+	if ( xterm_title_str ) g_free (xterm_title_str);
 	p = s = g_strdup (strip_home_and_password (current_panel->cwd));
+	if ( !gethostname (h, 64) ) {
+	    h[63] = '\0'; /* Be sure the hostname is NUL terminated */
+	    s = g_strdup_printf ("%s:%s", h, s);
+	    g_free (p);
+	    p = s;
+	}
+	if ( (pw = getpwuid(getuid())) ) {
+	    s = g_strdup_printf ("%s@%s", pw->pw_name, s);
+	    g_free (p);
+	    p = s;
+	}
 	do {
 #ifndef UTF8
 	    if (!is_printable ((unsigned char) *s))
@@ -1619,7 +1637,7 @@
 	} while (*++s);
 	fprintf (stdout, "\33]0;mc - %s\7", p);
 	fflush (stdout);
-	g_free (p);
+	xterm_title_str = p;
     }
 }
 
diff -ur mc-4.6.2-pre1.orig/src/main.h mc-4.6.2-pre1/src/main.h
--- mc-4.6.2-pre1.orig/src/main.h	2006-02-03 20:07:39.000000000 +0300
+++ mc-4.6.2-pre1/src/main.h	2008-07-06 19:26:29.000000000 +0400
@@ -69,6 +69,7 @@
 extern int only_leading_plus_minus;
 extern int output_starts_shell;
 extern int midnight_shutdown;
+extern char *xterm_title_str;
 extern char cmd_buf [512];
 extern const char *shell;
 
diff -ur mc-4.6.2-pre1.orig/src/view.c mc-4.6.2-pre1/src/view.c
--- mc-4.6.2-pre1.orig/src/view.c	2008-07-06 19:26:20.000000000 +0400
+++ mc-4.6.2-pre1/src/view.c	2008-07-06 19:26:29.000000000 +0400
@@ -3370,6 +3370,11 @@
     WButtonBar *bar;
     Dlg_head *view_dlg;
 
+    if (xterm_flag && xterm_title && xterm_title_str) {
+	fprintf (stdout, "\33]0;mc - %s/%s\7", xterm_title_str, file);
+	fflush(stdout);
+    }
+
     /* Create dialog and widgets, put them on the dialog */
     view_dlg =
 	create_dlg (0, 0, LINES, COLS, NULL, view_dialog_callback,
@@ -3393,6 +3398,8 @@
     }
     destroy_dlg (view_dlg);
 
+    update_xterm_title_path();
+
     return succeeded;
 }
 
